<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Not Store - Telegram Mini App" />

    <!-- Agresif cache busting meta tags -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Last-Modified" content="0" />
    <meta http-equiv="ETag" content="no-cache" />
    
    <!-- Telegram WebApp specific cache busting -->
    <meta name="telegram-cache-version" content="v1.0.0" />
    <meta name="build-timestamp" content="BUILD_TIMESTAMP_PLACEHOLDER" />

    <!-- Telegram Web App Meta Tags -->
    <meta name="telegram-web-app" content="true" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Preload critical fonts -->
    <link
      rel="preload"
      href="/fonts/SF Pro Rounded.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <title>Not Store</title>
  </head>
  <body>
    <!-- Telegram Web App resmi script yÃ¼kleyicisi -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Cache busting script -->
    <script>
      // Telegram WebApp cache busting
      if (window.Telegram && window.Telegram.WebApp) {
        // Force reload on version mismatch
        const currentVersion = document.querySelector('meta[name="telegram-cache-version"]')?.getAttribute('content');
        const storedVersion = localStorage.getItem('telegram-app-version');
        
        if (storedVersion && storedVersion !== currentVersion) {
          localStorage.clear();
          sessionStorage.clear();
          if ('caches' in window) {
            caches.keys().then(names => {
              names.forEach(name => caches.delete(name));
            });
          }
        }
        
        if (currentVersion) {
          localStorage.setItem('telegram-app-version', currentVersion);
        }
      }
    </script>
  </body>
</html>
